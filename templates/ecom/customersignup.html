<!DOCTYPE html>
{% load widget_tweaks %}
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Impairdify</title>
    <style media="screen">
      body {
        margin: 0;
        padding: 0;
        font-family: sans-serif;
      }

      .box {
        width: 100%;
        padding: 40px;
        position: absolute;
        top: 50%;
        left: 50%;
        background: #3E454C;
        text-align: center;
        transition: 0.25s;
        margin-top: 100px;
        border-radius: 50px;
      }

      .box input[type="text"],
      .box input[type="password"] {
        border: 0;
        background: none;
        display: block;
        margin: 20px auto;
        text-align: center;
        border: 2px solid #ffffff;
        padding: 10px 10px;
        width: 250px;
        outline: none;
        color: white;
        border-radius: 24px;
        transition: 0.25s
      }

      .box h1 {
        color: white;
        font-weight: 500
      }

      .box input[type="text"]:focus,
      .box input[type="password"]:focus {
        width: 300px;
        border-color: #d3d3d3
      }

      .box input[type="submit"],
      .box button {
        border: 0;
        background: none;
        display: block;
        margin: 20px auto;
        text-align: center;
        border: 2px solid #2ecc71;
        padding: 14px 40px;
        outline: none;
        color: white;
        border-radius: 24px;
        transition: 0.25s;
        cursor: pointer
      }

      .box input[type="submit"]:hover,
      .box button:hover {
        background: #2ecc71
      }

      .forgot {
        text-decoration: underline
      }

      ul.social-network {
        list-style: none;
        display: inline;
        margin-left: 0 !important;
        padding: 0
      }

      ul.social-network li {
        display: inline;
        margin: 0 5px
      }

      .social-network a.icoFacebook:hover {
        background-color: #3B5998
      }

      .social-network a.icoTwitter:hover {
        background-color: #33ccff
      }

      .social-network a.icoGoogle:hover {
        background-color: #BD3518
      }

      .social-network a.icoFacebook:hover i,
      .social-network a.icoTwitter:hover i,
      .social-network a.icoGoogle:hover i {
        color: #fff
      }

      a.socialIcon:hover,
      .socialHoverClass {
        color: #44BCDD
      }

      .social-circle li a {
        display: inline-block;
        position: relative;
        margin: 0 auto 0 auto;
        border-radius: 50%;
        text-align: center;
        width: 50px;
        height: 50px;
        font-size: 20px
      }

      .social-circle li i {
        margin: 0;
        line-height: 50px;
        text-align: center
      }

      .social-circle li a:hover i,
      .triggeredHover {
        transform: rotate(360deg);
        transition: all 0.2s
      }

      .social-circle i {
        color: #fff;
        transition: all 0.8s;
        transition: all 0.8s
      }
    </style>
  </head>
  <body>
    {% include "ecom/navbar.html" %}
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="card">
            <form class="box" method="post" enctype="multipart/form-data">
              {% csrf_token %}
              <h1>Customer SignUp</h1>
              {% render_field userForm.first_name class="form-control" placeholder="First Name" %}
              {% render_field userForm.last_name class="form-control" placeholder="Last Name" %}
              {% render_field userForm.username class="form-control" placeholder="Username" %}
              {% render_field userForm.password class="form-control" placeholder="Password" %}
              {% render_field customerForm.address class="form-control" placeholder="Address" %}
              {% render_field customerForm.mobile class="form-control" placeholder="Contact" %}
              {% render_field customerForm.profile_pic class="form-control" placeholder="Profile pic" %}
              <input type="submit" value="Create">
            </form>
          </div>
        </div>
      </div>
    </div>
    <br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br>
    {% include "ecom/footer.html" %}

    <!-- Text-to-Speech Script -->
    <script>
      function signup() {
          const utterance = new SpeechSynthesisUtterance("Welcome to the signup page! please enter or speak your first name, last name, username, password, address and contact for account creation");
          speechSynthesis.speak(utterance);
      }

      // Speak search results once the page is loaded
      window.addEventListener('load', signup);
    </script>

    <!-- Voice Recognition Script -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        startDictation();
      });

      function startDictation() {
        if (window.hasOwnProperty('webkitSpeechRecognition')) {
          var recognition = new webkitSpeechRecognition();
          recognition.continuous = true;
          recognition.interimResults = false;
          recognition.lang = "en-US";
          recognition.start();

          recognition.onresult = function(e) {
            var transcript = e.results[e.resultIndex][0].transcript.toLowerCase();
            var formFields = document.querySelectorAll('.form-control');
            var fieldNames = ['first name', 'last name', 'username', 'password', 'address', 'contact'];

            // Fill form fields based on spoken words
            for (let i = 0; i < formFields.length; i++) {
              if (transcript.includes(fieldNames[i])) {
                var value = transcript.split(fieldNames[i])[1].trim();
                formFields[i].value = value;
              }
            }

            // Check if the user said "create"
            if (transcript.includes("create")) {
              document.querySelector('.box input[type="submit"]').click();
            }

            if (transcript.includes("go to cart")) {
          // Trigger cart button link click
          document.querySelector('.cart-button').click();
        }

        // Check if the user said "logout"
        if (transcript.includes("login")) {
          // Perform action, e.g., trigger logout link click
          document.querySelector('a[href="/customerlogin"]').click();
        

        }

          recognition.onerror = function(e) {
            recognition.stop();
            setTimeout(startDictation, 1000); // Restart recognition after an error
          };

          recognition.onend = function() {
            setTimeout(startDictation, 1000); // Restart recognition if it ends
          };
          recognition.start();
        }
      };
    </script>

  </body>
</html>
